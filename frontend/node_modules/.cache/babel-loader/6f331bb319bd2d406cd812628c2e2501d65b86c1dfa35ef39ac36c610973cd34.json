{"ast":null,"code":"import _objectSpread from\"C:/Users/indur/Desktop/project managmnet - Copy/project-management-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useContext}from'react';import{useParams,useNavigate}from'react-router-dom';import{projectsAPI,tasksAPI}from'../services/api';import{AuthContext}from'../context/AuthContext';// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\nimport GanttChart from'../components/GanttChart';import GoalManager from'../components/GoalManager';import ScopeManager from'../components/ScopeManager';import ResourceManager from'../components/ResourceManager';import InviteMembersModal from'../components/InviteMembersModal';import Collaboration from'../components/Collaboration';import OverallProgressChart from'../components/OverallProgressChart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProjectDetail(){var _project$members,_project$budget$estim,_project$budget;const{id}=useParams();const navigate=useNavigate();const authContext=useContext(AuthContext);const currentUser=authContext===null||authContext===void 0?void 0:authContext.user;const[project,setProject]=useState(null);const[tasks,setTasks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[showNewTask,setShowNewTask]=useState(false);const[showInviteModal,setShowInviteModal]=useState(false);const[showEditName,setShowEditName]=useState(false);const[editingName,setEditingName]=useState('');const[activeTab,setActiveTab]=useState('overview');const[formData,setFormData]=useState({title:'',description:'',priority:'medium',dueDate:''});useEffect(()=>{fetchProjectAndTasks();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);const fetchProjectAndTasks=async()=>{try{setLoading(true);const projectRes=await projectsAPI.getOne(id);setProject(projectRes.data);const tasksRes=await tasksAPI.getByProject(id);setTasks(tasksRes.data);}catch(err){setError('Failed to load project');}finally{setLoading(false);}};const handleCreateTask=async e=>{e.preventDefault();try{const newTask=await tasksAPI.create(_objectSpread(_objectSpread({},formData),{},{project:id}));setTasks([newTask.data,...tasks]);setFormData({title:'',description:'',priority:'medium',dueDate:''});setShowNewTask(false);}catch(err){setError('Failed to create task');}};const handleUpdateTaskStatus=async(taskId,newStatus)=>{try{await tasksAPI.update(taskId,{status:newStatus});setTasks(tasks.map(t=>t._id===taskId?_objectSpread(_objectSpread({},t),{},{status:newStatus}):t));}catch(err){setError('Failed to update task');}};const handleUpdateProjectName=async e=>{e.preventDefault();if(!editingName.trim()){setError('Project name cannot be empty');return;}try{const updatedProject=await projectsAPI.update(id,{name:editingName.trim()});setProject(updatedProject.data);setShowEditName(false);setError('');}catch(err){setError('Failed to update project name');}};const isAdmin=project&&((currentUser===null||currentUser===void 0?void 0:currentUser._id)===project.owner._id||(currentUser===null||currentUser===void 0?void 0:currentUser.id)===project.owner._id||((_project$members=project.members)===null||_project$members===void 0?void 0:_project$members.some(m=>(m.user._id===(currentUser===null||currentUser===void 0?void 0:currentUser._id)||m.user===(currentUser===null||currentUser===void 0?void 0:currentUser.id))&&m.role==='admin')));if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});if(!project)return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"Project not found\"});const tasksByStatus={'todo':tasks.filter(t=>t.status==='todo'),'in-progress':tasks.filter(t=>t.status==='in-progress'),'review':tasks.filter(t=>t.status==='review'),'completed':tasks.filter(t=>t.status==='completed')};const getPriorityColor=priority=>{const colors={'low':'bg-green-100 text-green-800','medium':'bg-yellow-100 text-yellow-800','high':'bg-red-100 text-red-800','critical':'bg-purple-100 text-purple-800'};return colors[priority]||colors['medium'];};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"mb-6 inline-flex items-center text-indigo-600 hover:text-indigo-700 font-semibold transition-colors\",children:\"\\u2190 Back to Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900\",children:project.name}),isAdmin&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingName(project.name);setShowEditName(true);},className:\"text-indigo-600 hover:text-indigo-700 transition-colors\",title:\"Edit project name\",children:\"\\u270F\\uFE0F\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:project.description})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowInviteModal(true),className:\"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors shadow-lg\",children:\"\\uD83D\\uDC65 Invite Members\"})]}),showEditName&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Edit Project Name\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateProjectName,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingName,onChange:e=>setEditingName(e.target.value),placeholder:\"Enter new project name\",className:\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\",autoFocus:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowEditName(false),className:\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-semibold\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors font-semibold\",children:\"Save\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm font-medium\",children:\"Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold text-indigo-600 capitalize\",children:project.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm font-medium\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-purple-600\",children:[project.progress,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm font-medium\",children:\"Budget (Estimated)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-pink-600\",children:[\"$\",(_project$budget$estim=(_project$budget=project.budget)===null||_project$budget===void 0?void 0:_project$budget.estimated)!==null&&_project$budget$estim!==void 0?_project$budget$estim:0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm font-medium\",children:\"Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold text-yellow-600\",children:tasks.length})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-indigo-600 to-pink-600 h-3 rounded-full transition-all duration-300\",style:{width:\"\".concat(project.progress,\"%\")}})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message mb-6\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-t-2xl shadow-lg mb-0 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 py-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('overview'),className:\"px-4 py-2 font-semibold rounded-t-lg transition-colors \".concat(activeTab==='overview'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:\"\\uD83D\\uDCCB Overview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('goals'),className:\"px-4 py-2 font-semibold rounded-t-lg transition-colors \".concat(activeTab==='goals'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:\"\\uD83C\\uDFAF Goals\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('scope'),className:\"px-4 py-2 font-semibold rounded-t-lg transition-colors \".concat(activeTab==='scope'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:\"\\uD83D\\uDCC4 Scope\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('timeline'),className:\"px-4 py-2 font-semibold rounded-t-lg transition-colors \".concat(activeTab==='timeline'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:\"\\uD83D\\uDCCA Timeline\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('progress'),className:\"px-4 py-2 font-semibold rounded-t-lg transition-colors \".concat(activeTab==='progress'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:\"\\uD83D\\uDCC8 Overall Progress\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('resources'),className:\"px-4 py-2 font-semibold rounded-t-lg transition-colors \".concat(activeTab==='resources'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:\"\\uD83D\\uDC65 Resources\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('collaboration'),className:\"px-4 py-2 font-semibold rounded-t-lg transition-colors \".concat(activeTab==='collaboration'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:\"\\uD83D\\uDCAC Collaboration\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-b-2xl shadow-lg p-8 mb-8\",children:[activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Tasks\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/projects/\".concat(id,\"/analytics\")),className:\"btn-secondary\",children:\"\\uD83D\\uDCCA Analytics\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewTask(!showNewTask),className:\"btn-primary\",children:showNewTask?'‚úï Cancel':'+ New Task'})]})]}),showNewTask&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-6 mb-6 border-2 border-indigo-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:\"Create New Task\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateTask,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Task Title\",value:formData.title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{title:e.target.value})),required:true,className:\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),className:\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\",rows:3}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:formData.priority,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{priority:e.target.value})),className:\"px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"critical\",children:\"Critical\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.dueDate,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{dueDate:e.target.value})),className:\"px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary w-full\",children:\"Create Task\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:Object.entries(tasksByStatus).map(_ref=>{let[status,statusTasks]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4 capitalize\",children:[status.replace('-',' '),\" (\",statusTasks.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[statusTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 mb-2\",children:task.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3 line-clamp-2\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-bold px-2 py-1 rounded \".concat(getPriorityColor(task.priority||'medium'),\" capitalize\"),children:task.priority||'medium'}),task.dueDate&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded\",children:new Date(task.dueDate).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"select\",{value:task.status||'todo',onChange:e=>handleUpdateTaskStatus(task._id||'',e.target.value),className:\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:border-indigo-600\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"todo\",children:\"To Do\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in-progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"review\",children:\"Review\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"})]})]})]},task._id)),statusTasks.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center py-8\",children:\"No tasks\"})]})]},status);})})]}),activeTab==='goals'&&/*#__PURE__*/_jsx(GoalManager,{projectId:id}),activeTab==='scope'&&/*#__PURE__*/_jsx(ScopeManager,{projectId:id}),activeTab==='timeline'&&/*#__PURE__*/_jsx(GanttChart,{tasks:tasks,startDate:(project===null||project===void 0?void 0:project.startDate)||new Date(),endDate:(project===null||project===void 0?void 0:project.endDate)||new Date(Date.now()+30*24*60*60*1000)}),activeTab==='progress'&&/*#__PURE__*/_jsx(OverallProgressChart,{projectId:id}),activeTab==='resources'&&/*#__PURE__*/_jsx(ResourceManager,{projectId:id}),activeTab==='collaboration'&&/*#__PURE__*/_jsx(Collaboration,{projectId:id})]}),/*#__PURE__*/_jsx(InviteMembersModal,{projectId:id,isOpen:showInviteModal,onClose:()=>setShowInviteModal(false),onMemberAdded:()=>{fetchProjectAndTasks();setShowInviteModal(false);}})]})});}","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","projectsAPI","tasksAPI","AuthContext","GanttChart","GoalManager","ScopeManager","ResourceManager","InviteMembersModal","Collaboration","OverallProgressChart","jsx","_jsx","jsxs","_jsxs","ProjectDetail","_project$members","_project$budget$estim","_project$budget","id","navigate","authContext","currentUser","user","project","setProject","tasks","setTasks","loading","setLoading","error","setError","showNewTask","setShowNewTask","showInviteModal","setShowInviteModal","showEditName","setShowEditName","editingName","setEditingName","activeTab","setActiveTab","formData","setFormData","title","description","priority","dueDate","fetchProjectAndTasks","projectRes","getOne","data","tasksRes","getByProject","err","handleCreateTask","e","preventDefault","newTask","create","_objectSpread","handleUpdateTaskStatus","taskId","newStatus","update","status","map","t","_id","handleUpdateProjectName","trim","updatedProject","name","isAdmin","owner","members","some","m","role","className","children","tasksByStatus","filter","getPriorityColor","colors","onClick","onSubmit","type","value","onChange","target","placeholder","autoFocus","progress","budget","estimated","length","style","width","concat","required","rows","Object","entries","_ref","statusTasks","replace","task","Date","toLocaleDateString","projectId","startDate","endDate","now","isOpen","onClose","onMemberAdded"],"sources":["C:/Users/indur/Desktop/project managmnet - Copy/project-management-system/frontend/src/pages/ProjectDetail.tsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { projectsAPI, tasksAPI } from '../services/api';\nimport { AuthContext } from '../context/AuthContext';\n// eslint-disable-next-line no-unused-vars\nimport TimeTracker from '../components/TimeTracker';\n// eslint-disable-next-line no-unused-vars\nimport SubtaskManager from '../components/SubtaskManager';\nimport GanttChart from '../components/GanttChart';\nimport GoalManager from '../components/GoalManager';\nimport ScopeManager from '../components/ScopeManager';\nimport ResourceManager from '../components/ResourceManager';\nimport InviteMembersModal from '../components/InviteMembersModal';\nimport Collaboration from '../components/Collaboration';\nimport OverallProgressChart from '../components/OverallProgressChart';\n\ninterface Task {\n  _id?: string;\n  title?: string;\n  status?: 'todo' | 'in-progress' | 'review' | 'completed';\n  priority?: 'low' | 'medium' | 'high' | 'critical';\n  progress?: number;\n  description?: string;\n  dueDate?: string | Date;\n  assignee?: { name: string };\n}\n\nexport default function ProjectDetail() {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const authContext = useContext(AuthContext);\n  const currentUser = authContext?.user;\n  const [project, setProject] = useState<any>(null);\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showNewTask, setShowNewTask] = useState(false);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [showEditName, setShowEditName] = useState(false);\n  const [editingName, setEditingName] = useState('');\n  const [activeTab, setActiveTab] = useState('overview');\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    priority: 'medium',\n    dueDate: '',\n  });\n\n  useEffect(() => {\n    fetchProjectAndTasks();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const fetchProjectAndTasks = async () => {\n    try {\n      setLoading(true);\n      const projectRes = await projectsAPI.getOne(id!);\n      setProject(projectRes.data);\n      const tasksRes = await tasksAPI.getByProject(id!);\n      setTasks(tasksRes.data);\n    } catch (err) {\n      setError('Failed to load project');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateTask = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    try {\n      const newTask = await tasksAPI.create({\n        ...formData,\n        project: id,\n      });\n      setTasks([newTask.data, ...tasks]);\n      setFormData({ title: '', description: '', priority: 'medium', dueDate: '' });\n      setShowNewTask(false);\n    } catch (err) {\n      setError('Failed to create task');\n    }\n  };\n\n  const handleUpdateTaskStatus = async (taskId: string, newStatus: string) => {\n    try {\n      await tasksAPI.update(taskId, { status: newStatus as 'todo' | 'in-progress' | 'review' | 'completed' });\n      setTasks(tasks.map(t => t._id === taskId ? { ...t, status: newStatus as 'todo' | 'in-progress' | 'review' | 'completed' } : t));\n    } catch (err) {\n      setError('Failed to update task');\n    }\n  };\n\n  const handleUpdateProjectName = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!editingName.trim()) {\n      setError('Project name cannot be empty');\n      return;\n    }\n    \n    try {\n      const updatedProject = await projectsAPI.update(id!, { name: editingName.trim() });\n      setProject(updatedProject.data);\n      setShowEditName(false);\n      setError('');\n    } catch (err) {\n      setError('Failed to update project name');\n    }\n  };\n\n  const isAdmin = project && (\n    currentUser?._id === project.owner._id || \n    currentUser?.id === project.owner._id ||\n    project.members?.some((m: any) => (m.user._id === currentUser?._id || m.user === currentUser?.id) && m.role === 'admin')\n  );\n\n  if (loading) return <div className=\"loading\">Loading...</div>;\n  if (!project) return <div className=\"error\">Project not found</div>;\n\n  const tasksByStatus = {\n    'todo': tasks.filter(t => t.status === 'todo'),\n    'in-progress': tasks.filter(t => t.status === 'in-progress'),\n    'review': tasks.filter(t => t.status === 'review'),\n    'completed': tasks.filter(t => t.status === 'completed'),\n  };\n\n  const getPriorityColor = (priority: string) => {\n    const colors = {\n      'low': 'bg-green-100 text-green-800',\n      'medium': 'bg-yellow-100 text-yellow-800',\n      'high': 'bg-red-100 text-red-800',\n      'critical': 'bg-purple-100 text-purple-800',\n    };\n    return colors[priority as keyof typeof colors] || colors['medium'];\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <button\n          onClick={() => navigate('/dashboard')}\n          className=\"mb-6 inline-flex items-center text-indigo-600 hover:text-indigo-700 font-semibold transition-colors\"\n        >\n          ‚Üê Back to Dashboard\n        </button>\n\n        <div className=\"bg-white rounded-2xl shadow-lg p-8 mb-8\">\n          <div className=\"mb-6 flex justify-between items-start\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <h1 className=\"text-4xl font-bold text-gray-900\">{project.name}</h1>\n                {isAdmin && (\n                  <button\n                    onClick={() => {\n                      setEditingName(project.name);\n                      setShowEditName(true);\n                    }}\n                    className=\"text-indigo-600 hover:text-indigo-700 transition-colors\"\n                    title=\"Edit project name\"\n                  >\n                    ‚úèÔ∏è\n                  </button>\n                )}\n              </div>\n              <p className=\"text-gray-600 text-lg\">{project.description}</p>\n            </div>\n            <button\n              onClick={() => setShowInviteModal(true)}\n              className=\"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors shadow-lg\"\n            >\n              üë• Invite Members\n            </button>\n          </div>\n\n          {/* Edit Project Name Modal */}\n          {showEditName && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n              <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full\">\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Edit Project Name</h2>\n                <form onSubmit={handleUpdateProjectName} className=\"space-y-4\">\n                  <input\n                    type=\"text\"\n                    value={editingName}\n                    onChange={(e) => setEditingName(e.target.value)}\n                    placeholder=\"Enter new project name\"\n                    className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\"\n                    autoFocus\n                  />\n                  <div className=\"flex gap-3 justify-end\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowEditName(false)}\n                      className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-semibold\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      type=\"submit\"\n                      className=\"px-4 py-2 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors font-semibold\"\n                    >\n                      Save\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          )}\n\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n            <div className=\"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-4\">\n              <p className=\"text-gray-600 text-sm font-medium\">Status</p>\n              <p className=\"text-xl font-bold text-indigo-600 capitalize\">{project.status}</p>\n            </div>\n            <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4\">\n              <p className=\"text-gray-600 text-sm font-medium\">Progress</p>\n              <p className=\"text-xl font-bold text-purple-600\">{project.progress}%</p>\n            </div>\n            <div className=\"bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-4\">\n              <p className=\"text-gray-600 text-sm font-medium\">Budget (Estimated)</p>\n              <p className=\"text-xl font-bold text-pink-600\">\n                ${project.budget?.estimated ?? 0}\n              </p>\n            </div>\n            <div className=\"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4\">\n              <p className=\"text-gray-600 text-sm font-medium\">Tasks</p>\n              <p className=\"text-xl font-bold text-yellow-600\">{tasks.length}</p>\n            </div>\n          </div>\n\n          <div className=\"w-full bg-gray-200 rounded-full h-3\">\n            <div\n              className=\"bg-gradient-to-r from-indigo-600 to-pink-600 h-3 rounded-full transition-all duration-300\"\n              style={{ width: `${project.progress}%` }}\n            />\n          </div>\n        </div>\n\n        {error && <div className=\"error-message mb-6\">{error}</div>}\n\n        {/* Tab Navigation */}\n        <div className=\"bg-white rounded-t-2xl shadow-lg mb-0 border-b border-gray-200\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex flex-wrap gap-2 py-4\">\n              <button\n                onClick={() => setActiveTab('overview')}\n                className={`px-4 py-2 font-semibold rounded-t-lg transition-colors ${\n                  activeTab === 'overview'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                üìã Overview\n              </button>\n              <button\n                onClick={() => setActiveTab('goals')}\n                className={`px-4 py-2 font-semibold rounded-t-lg transition-colors ${\n                  activeTab === 'goals'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                üéØ Goals\n              </button>\n              <button\n                onClick={() => setActiveTab('scope')}\n                className={`px-4 py-2 font-semibold rounded-t-lg transition-colors ${\n                  activeTab === 'scope'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                üìÑ Scope\n              </button>\n              <button\n                onClick={() => setActiveTab('timeline')}\n                className={`px-4 py-2 font-semibold rounded-t-lg transition-colors ${\n                  activeTab === 'timeline'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                üìä Timeline\n              </button>\n              <button\n                onClick={() => setActiveTab('progress')}\n                className={`px-4 py-2 font-semibold rounded-t-lg transition-colors ${\n                  activeTab === 'progress'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                üìà Overall Progress\n              </button>\n              <button\n                onClick={() => setActiveTab('resources')}\n                className={`px-4 py-2 font-semibold rounded-t-lg transition-colors ${\n                  activeTab === 'resources'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                üë• Resources\n              </button>\n              <button\n                onClick={() => setActiveTab('collaboration')}\n                className={`px-4 py-2 font-semibold rounded-t-lg transition-colors ${\n                  activeTab === 'collaboration'\n                    ? 'bg-indigo-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                üí¨ Collaboration\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"bg-white rounded-b-2xl shadow-lg p-8 mb-8\">\n          {/* Overview Tab */}\n          {activeTab === 'overview' && (\n            <div>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-3xl font-bold text-gray-900\">Tasks</h2>\n                <div className=\"flex gap-4\">\n                  <button\n                    onClick={() => navigate(`/projects/${id}/analytics`)}\n                    className=\"btn-secondary\"\n                  >\n                    üìä Analytics\n                  </button>\n                  <button\n                    onClick={() => setShowNewTask(!showNewTask)}\n                    className=\"btn-primary\"\n                  >\n                    {showNewTask ? '‚úï Cancel' : '+ New Task'}\n                  </button>\n                </div>\n              </div>\n\n              {showNewTask && (\n                <div className=\"bg-gray-50 rounded-lg p-6 mb-6 border-2 border-indigo-200\">\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Create New Task</h3>\n                  <form onSubmit={handleCreateTask} className=\"space-y-4\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Task Title\"\n                      value={formData.title}\n                      onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                      required\n                      className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\"\n                    />\n                    <textarea\n                      placeholder=\"Description\"\n                      value={formData.description}\n                      onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                      className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\"\n                      rows={3}\n                    />\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <select\n                        value={formData.priority}\n                        onChange={(e) => setFormData({ ...formData, priority: e.target.value })}\n                        className=\"px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\"\n                      >\n                        <option value=\"low\">Low Priority</option>\n                        <option value=\"medium\">Medium Priority</option>\n                        <option value=\"high\">High Priority</option>\n                        <option value=\"critical\">Critical</option>\n                      </select>\n                      <input\n                        type=\"date\"\n                        value={formData.dueDate}\n                        onChange={(e) => setFormData({ ...formData, dueDate: e.target.value })}\n                        className=\"px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-600 transition-colors\"\n                      />\n                    </div>\n                    <button type=\"submit\" className=\"btn-primary w-full\">\n                      Create Task\n                    </button>\n                  </form>\n                </div>\n              )}\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                {Object.entries(tasksByStatus).map(([status, statusTasks]) => (\n                  <div key={status} className=\"bg-gray-100 rounded-xl p-6\">\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-4 capitalize\">\n                      {status.replace('-', ' ')} ({statusTasks.length})\n                    </h3>\n                    <div className=\"space-y-3\">\n                      {statusTasks.map((task) => (\n                        <div key={task._id} className=\"bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\">\n                          <h4 className=\"font-semibold text-gray-900 mb-2\">{task.title}</h4>\n                          <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">{task.description}</p>\n                          <div className=\"space-y-2\">\n                            <div className=\"flex items-center gap-2 flex-wrap\">\n                              <span className={`text-xs font-bold px-2 py-1 rounded ${getPriorityColor(task.priority || 'medium')} capitalize`}>\n                                {task.priority || 'medium'}\n                              </span>\n                              {task.dueDate && (\n                                <span className=\"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded\">\n                                  {new Date(task.dueDate).toLocaleDateString()}\n                                </span>\n                              )}\n                            </div>\n                            <select\n                              value={task.status || 'todo'}\n                              onChange={(e) => handleUpdateTaskStatus(task._id || '', e.target.value)}\n                              className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:border-indigo-600\"\n                            >\n                              <option value=\"todo\">To Do</option>\n                              <option value=\"in-progress\">In Progress</option>\n                              <option value=\"review\">Review</option>\n                              <option value=\"completed\">Completed</option>\n                            </select>\n                          </div>\n                        </div>\n                      ))}\n                      {statusTasks.length === 0 && (\n                        <p className=\"text-gray-400 text-center py-8\">No tasks</p>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Goals Tab */}\n          {activeTab === 'goals' && (\n            <GoalManager projectId={id!} />\n          )}\n\n          {/* Scope Tab */}\n          {activeTab === 'scope' && (\n            <ScopeManager projectId={id!} />\n          )}\n\n          {/* Timeline (Gantt Chart) Tab */}\n          {activeTab === 'timeline' && (\n            <GanttChart \n              tasks={tasks as any} \n              startDate={project?.startDate || new Date()} \n              endDate={project?.endDate || new Date(Date.now() + 30*24*60*60*1000)} \n            />\n          )}\n\n          {/* Overall Progress Tab */}\n          {activeTab === 'progress' && (\n            <OverallProgressChart projectId={id!} />\n          )}\n\n          {/* Resources Tab */}\n          {activeTab === 'resources' && (\n            <ResourceManager projectId={id!} />\n          )}\n\n          {/* Collaboration Tab */}\n          {activeTab === 'collaboration' && (\n            <Collaboration projectId={id!} />\n          )}\n        </div>\n\n        {/* Invite Members Modal */}\n        <InviteMembersModal\n          projectId={id!}\n          isOpen={showInviteModal}\n          onClose={() => setShowInviteModal(false)}\n          onMemberAdded={() => {\n            fetchProjectAndTasks();\n            setShowInviteModal(false);\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}