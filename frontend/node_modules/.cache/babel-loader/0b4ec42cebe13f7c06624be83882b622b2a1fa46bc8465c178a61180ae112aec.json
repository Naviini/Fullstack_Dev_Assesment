{"ast":null,"code":"import io from 'socket.io-client';\nlet socket = null;\nconst socketService = {\n  /**\r\n   * Initialize WebSocket connection\r\n   * @param {string} token - JWT authentication token\r\n   */\n  connect(token) {\n    const serverUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\n    socket = io(serverUrl, {\n      auth: {\n        token: token\n      },\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: 5\n    });\n    socket.on('connect', () => {\n      console.log('WebSocket connected:', socket.id);\n    });\n    socket.on('connect_error', error => {\n      console.error('WebSocket connection error:', error);\n    });\n    socket.on('disconnect', () => {\n      console.log('WebSocket disconnected');\n    });\n    return socket;\n  },\n  /**\r\n   * Disconnect WebSocket\r\n   */\n  disconnect() {\n    if (socket) {\n      socket.disconnect();\n    }\n  },\n  /**\r\n   * Join a project room for real-time updates\r\n   * @param {string} projectId - Project ID\r\n   */\n  joinProject(projectId) {\n    if (socket) {\n      socket.emit('join-project', projectId);\n    }\n  },\n  /**\r\n   * Leave a project room\r\n   * @param {string} projectId - Project ID\r\n   */\n  leaveProject(projectId) {\n    if (socket) {\n      socket.emit('leave-project', projectId);\n    }\n  },\n  /**\r\n   * Notify when a task is updated\r\n   * @param {string} projectId - Project ID\r\n   * @param {string} taskId - Task ID\r\n   * @param {object} changes - Changes made to the task\r\n   */\n  emitTaskUpdate(projectId, taskId, changes) {\n    if (socket) {\n      socket.emit('task-updated', {\n        projectId,\n        taskId,\n        changes\n      });\n    }\n  },\n  /**\r\n   * Send a collaboration message\r\n   * @param {string} projectId - Project ID\r\n   * @param {string} message - Message content\r\n   */\n  sendCollaborationMessage(projectId, message) {\n    if (socket) {\n      socket.emit('collaboration-message', {\n        projectId,\n        message\n      });\n    }\n  },\n  /**\r\n   * Notify when project status changes\r\n   * @param {string} projectId - Project ID\r\n   * @param {string} status - New project status\r\n   */\n  emitProjectStatusChange(projectId, status) {\n    if (socket) {\n      socket.emit('project-status-changed', {\n        projectId,\n        status\n      });\n    }\n  },\n  /**\r\n   * Listen for task update notifications\r\n   * @param {function} callback - Callback function\r\n   */\n  onTaskUpdate(callback) {\n    if (socket) {\n      socket.on('task-update-notification', callback);\n    }\n  },\n  /**\r\n   * Listen for new collaboration messages\r\n   * @param {function} callback - Callback function\r\n   */\n  onNewMessage(callback) {\n    if (socket) {\n      socket.on('new-message', callback);\n    }\n  },\n  /**\r\n   * Listen for project status updates\r\n   * @param {function} callback - Callback function\r\n   */\n  onProjectStatusUpdate(callback) {\n    if (socket) {\n      socket.on('project-status-update', callback);\n    }\n  },\n  /**\r\n   * Listen for user join notifications\r\n   * @param {function} callback - Callback function\r\n   */\n  onUserJoined(callback) {\n    if (socket) {\n      socket.on('user-joined', callback);\n    }\n  },\n  /**\r\n   * Listen for user leave notifications\r\n   * @param {function} callback - Callback function\r\n   */\n  onUserLeft(callback) {\n    if (socket) {\n      socket.on('user-left', callback);\n    }\n  },\n  /**\r\n   * Remove event listener\r\n   * @param {string} event - Event name\r\n   * @param {function} callback - Callback function\r\n   */\n  off(event, callback) {\n    if (socket) {\n      socket.off(event, callback);\n    }\n  },\n  /**\r\n   * Get socket instance\r\n   */\n  getSocket() {\n    return socket;\n  }\n};\nexport default socketService;","map":{"version":3,"names":["io","socket","socketService","connect","token","serverUrl","process","env","REACT_APP_API_URL","auth","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","on","console","log","id","error","disconnect","joinProject","projectId","emit","leaveProject","emitTaskUpdate","taskId","changes","sendCollaborationMessage","message","emitProjectStatusChange","status","onTaskUpdate","callback","onNewMessage","onProjectStatusUpdate","onUserJoined","onUserLeft","off","event","getSocket"],"sources":["C:/Users/indur/Desktop/project managmnet - Copy/project-management-system/frontend/src/services/socketService.js"],"sourcesContent":["import io from 'socket.io-client';\r\n\r\nlet socket = null;\r\n\r\nconst socketService = {\r\n  /**\r\n   * Initialize WebSocket connection\r\n   * @param {string} token - JWT authentication token\r\n   */\r\n  connect(token) {\r\n    const serverUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\r\n    socket = io(serverUrl, {\r\n      auth: {\r\n        token: token,\r\n      },\r\n      reconnection: true,\r\n      reconnectionDelay: 1000,\r\n      reconnectionDelayMax: 5000,\r\n      reconnectionAttempts: 5,\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      console.log('WebSocket connected:', socket.id);\r\n    });\r\n\r\n    socket.on('connect_error', (error) => {\r\n      console.error('WebSocket connection error:', error);\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log('WebSocket disconnected');\r\n    });\r\n\r\n    return socket;\r\n  },\r\n\r\n  /**\r\n   * Disconnect WebSocket\r\n   */\r\n  disconnect() {\r\n    if (socket) {\r\n      socket.disconnect();\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Join a project room for real-time updates\r\n   * @param {string} projectId - Project ID\r\n   */\r\n  joinProject(projectId) {\r\n    if (socket) {\r\n      socket.emit('join-project', projectId);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Leave a project room\r\n   * @param {string} projectId - Project ID\r\n   */\r\n  leaveProject(projectId) {\r\n    if (socket) {\r\n      socket.emit('leave-project', projectId);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Notify when a task is updated\r\n   * @param {string} projectId - Project ID\r\n   * @param {string} taskId - Task ID\r\n   * @param {object} changes - Changes made to the task\r\n   */\r\n  emitTaskUpdate(projectId, taskId, changes) {\r\n    if (socket) {\r\n      socket.emit('task-updated', {\r\n        projectId,\r\n        taskId,\r\n        changes,\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Send a collaboration message\r\n   * @param {string} projectId - Project ID\r\n   * @param {string} message - Message content\r\n   */\r\n  sendCollaborationMessage(projectId, message) {\r\n    if (socket) {\r\n      socket.emit('collaboration-message', {\r\n        projectId,\r\n        message,\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Notify when project status changes\r\n   * @param {string} projectId - Project ID\r\n   * @param {string} status - New project status\r\n   */\r\n  emitProjectStatusChange(projectId, status) {\r\n    if (socket) {\r\n      socket.emit('project-status-changed', {\r\n        projectId,\r\n        status,\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Listen for task update notifications\r\n   * @param {function} callback - Callback function\r\n   */\r\n  onTaskUpdate(callback) {\r\n    if (socket) {\r\n      socket.on('task-update-notification', callback);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Listen for new collaboration messages\r\n   * @param {function} callback - Callback function\r\n   */\r\n  onNewMessage(callback) {\r\n    if (socket) {\r\n      socket.on('new-message', callback);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Listen for project status updates\r\n   * @param {function} callback - Callback function\r\n   */\r\n  onProjectStatusUpdate(callback) {\r\n    if (socket) {\r\n      socket.on('project-status-update', callback);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Listen for user join notifications\r\n   * @param {function} callback - Callback function\r\n   */\r\n  onUserJoined(callback) {\r\n    if (socket) {\r\n      socket.on('user-joined', callback);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Listen for user leave notifications\r\n   * @param {function} callback - Callback function\r\n   */\r\n  onUserLeft(callback) {\r\n    if (socket) {\r\n      socket.on('user-left', callback);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Remove event listener\r\n   * @param {string} event - Event name\r\n   * @param {function} callback - Callback function\r\n   */\r\n  off(event, callback) {\r\n    if (socket) {\r\n      socket.off(event, callback);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get socket instance\r\n   */\r\n  getSocket() {\r\n    return socket;\r\n  },\r\n};\r\n\r\nexport default socketService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}